Title: W17 旋轉動畫
Date: 2017-01-06 12:00
Category: Course
Tags: Brython
Author: EAZEL

<!-- 導入 Brython 標準程式庫 -->
<script type="text/javascript" src="https://cdn.rawgit.com/brython-dev/brython/master/www/src/brython_dist.js">
</script>
 
<!-- 啟動 Brython -->
<script>
window.onload=function(){
brython(1);
}
</script>
 
<!-- 以下可以執行  Brython 程式 -->
<canvas id="onebar" width="400" height="400"></canvas>
<script type="text/python3">
from browser import document
from browser import window
from browser import timer
import math
canvas = document["onebar"]
ctx = canvas.getContext("2d")

width = canvas.width
height = canvas.height

def circle(x,y,r):
    ctx.beginPath()
    ctx.arc(x, y, r, 0, math.pi*2, True)
    ctx.fill()
    ctx.closePath()

def line(x1,y1,x2,y2):
    ctx.beginPath()
    ctx.lineWidth = 1
    ctx.moveTo(x1, y1)
    ctx.lineTo(x2, y2)
    ctx.strokeStyle = "blue"
    ctx.stroke()
    ctx.closePath()

line(200,200,200,300) 
circle(200, 200,5)

x1 = 200
y1 = 200
r = 100
deg = math.pi/180

theta = 0

def animate():
     global theta
     ctx.clearRect(0,0,width,height)
     x2 = x1 + r*math.cos(theta*deg)
     y2 = y1 + r*math.sin(theta*deg)
     line(x1,y1,x2,y2)
     #以下為增加線段
     x3 = x2 + 30*math.cos(2*theta*deg)
     y3 = y2 + 30*math.sin(2*theta*deg)
     line(x2,y2,x3,y3)
     x4 = x3 + 30*math.cos(3*theta*deg)
     y4 = y3 + 30*math.sin(3*theta*deg)
     line(x3,y3,x4,y4)
     circle(x1, y1, 5)
     theta +=1
    
timer.set_interval(animate,50)
</script>